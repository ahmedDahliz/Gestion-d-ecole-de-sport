<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ajouter joueur</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../node_modules/datatables.net-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="../assets/css/style.css" type="text/css"/>
    <link rel="stylesheet" href="../assets/fontawesome/css/all.css" type="text/css"/>
    <script>
      window.jQuery = window.$ = require('jquery');

    </script>
    <style type="text/css">
          /* Style the Image Used to Trigger the Modal */
      #myImg {
      border-radius: 5px;
      cursor: pointer;
      transition: 0.3s;
      }

      #myImg:hover {opacity: 0.7;}


    </style>
  </head>
  <body>
    <div class="loader" role="status">
      <!-- <div class="loader"></div> -->
      <img src="../assets/image/pageLoaderOld2.gif" class="alling-middel mx-auto" alt="">
    </div>
      <div class="secWindow">
        <div class="w-100 text-center mb-5">
          <h2 class="m-2"><i class="fas fa-user-plus"></i> Ajouter joueur</h2>
        </div>
        <div>
          <div class="form-group">
            <div class="float-left" style="width: 60%;">
              <table class="table">
                <tr>
                  <td>Nom : </td>
                  <td><input type="text" value="" id="lname" class="form-control form-control-sm d-inline" required></td>
                  <td>Telephone 1 : </td>
                  <td><input type="text" value="" id="phone1" class="form-control form-control-sm d-inline" required></td>
                </tr>
                <tr>
                  <td>Prenom : </td>
                  <td><input type="text" value="" id="fname"  class="form-control form-control-sm d-inline" required></td>
                  <td>Telephone 2 : </td>
                  <td><input type="text" value="" id="phone2" class="form-control form-control-sm d-inline"></td>
                </tr>
                <tr>
                  <td>Date de naissence : </td>
                  <td><input type="date" value="" id="birthday" class="form-control form-control-sm d-inline" required></td>
                  <td>Telephone 3 : </td>
                  <td><input type="text" value="" id="phone3" class="form-control form-control-sm d-inline"></td>
                </tr>
                <tr>
                  <td>categorie : </td>
                  <td><select id="categorie" class="form-control form-control-sm d-inline"></select></td>
                  <td>Groupe : </td>
                  <td><select id="groupe" class="form-control form-control-sm d-inline"></select></td>
                </tr>
                <tr>
                  <td>Prix annuel: </td>
                  <td class="input-box"><input type="text" id="annual_price" value="150" class="form-control form-control-sm d-inline" required>
                    <span class="unit">DH</span>
                  </td>
                  <!-- <td>Prix : </td>
                  <td class="input-box"><input type="text" value="50" id="price" class="form-control form-control-sm d-inline" required>
                      <span class="unit">DH</span>
                  </td> -->
                  <td>Adresse : </td>
                  <td rowspan="2"><textarea name="name" id="adress" rows="4" class="form-control form-control-sm" required></textarea></td>
                </tr>
                <tr>
                  <td>Nombre de joueurs <span id="nom_categorie"></span> / <span id="nom_groupe"></span> </td>
                  <td><i class="fas fa-users"></i>  : <span id="nbr_joueurs"></span></td>
                </tr>
              </table>
            </div>
            <div class="d-inline-block p-2 text-center" style="width: 40%;">
                <fieldset class="d-inline-block text-center border p-1 mr-5 align-middle">
                  <legend>Photo</legend>
                  <img src="..\assets\image\avatars\default.png" id="avatar" alt="joueur" class="img-thumbnail" height="150" width="150">
                  <button name="avatar" id="addAvatar" class="upload d-block mt-2 align-middle mx-auto" ><i class="fas fa-file-image"></i> Parcourir</button>
                </fieldset>
                <fieldset class="d-inline-block border mr-5 align-middle">
                  <legend>Certificat medicale</legend>
                  <img id="cert" src="..\assets\image\certificats\defaultFile.png" class="img-thumbnail" alt="certificat medicale" height="150" width="150">
                  <button type="button" name="file" id="addCert" class="upload mt-2 d-block align-middle mx-auto" ><i class="far fa-file-image"></i> Parcourir</button>
                </fieldset>
            </div>
            <br>
            <div class=" w-100" style="clear: both">
              <button class="btn btn-add" id="ajouterJoueur"><i class="fas fa-plus"></i> Ajouter</button>
              <button class="btn btn-edit" id="modifierJoueur" disabled><i class="fas fa-edit"></i> Modifier</button>
              <button class="btn btn-delete" id="supprimerJoueur" disabled><i class="fas fa-user-times"></i> supprimer</button>
              <button class="btn btn-edit" id="updatePlayer"><i class="fas fa-edit"></i> Modifier</button>

              <button class="btn btn-danger float-right" id="cancelAdd"><i class="fas fa-times"></i> Annuler</button>
              <span class="font-weight-bold m-1" id="msg_add_player"></span>

            </div>
          </div>
        </div>
        <table id="table_new_palyer" class="display table table-hover">
          <thead class="">
            <tr>
              <th></th>
              <th>Nom</th>
              <th>Prenom</th>
              <th>Date de naissence</th>
              <th>Télephone 1</th>
              <th>Télephone 2</th>
              <th>Télephone 3</th>
              <th style="width: 220px">Address</th>
              <th>Prix annuel</th>
              <th>Categorie</th>
              <th>Groupe</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
      <!-- The Modal -->
      <div id="myModal" class="modal">

        <!-- The Close Button -->
        <span class="close">&times;</span>

        <!-- Modal Content (The Image) -->
        <img class="modal-content" id="img01" height="95%">

        <!-- Modal Caption (Image Text) -->
        <div id="caption"></div>
      </div>
      <script src="../renderer.js"></script>
      <script src="../config/scripts/db_players.js"></script>
      <script type="text/javascript">
      // Get the modal
      var modal = document.getElementById("myModal");

      // Get the image and insert it inside the modal - use its "alt" text as a caption
      var img = document.getElementById("cert");
      var modalImg = document.getElementById("img01");
      var captionText = document.getElementById("caption");
      img.onclick = function(){
        modal.style.display = "block";
        modalImg.src = this.src;
        captionText.innerHTML = this.alt;
      }

      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];

      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
        modal.style.display = "none";
      }
      $(document).ready(function () {
        $('table#table_new_palyer').on('change', 'input:radio[name="joueur"]', function () {
           if(this.checked){
             $(".btn-edit").removeAttr("disabled")
             $(".btn-delete").removeAttr("disabled")
           }
        });
      });
      </script>
  </body>
</html>
